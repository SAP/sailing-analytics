<VirtualHost *:80>
    ServerName docker.sapsailing.com
    ProxyPreserveHost on
    ProxyPass / http://127.0.0.1:5000/
    ProxyPassReverse / http://127.0.0.1:5000/
    <Location />
        Order deny,allow
        Allow from all
        AuthName "Docker Registry Authentication"
        AuthType basic
        AuthUserFile '/etc/httpd/conf/passwd.git'
        Require valid-user
    </Location>
    # Use separate log files for the SSL virtual host; note that LogLevel
    # is not inherited from httpd.conf.
    ErrorLog logs/docker_error_log
    TransferLog logs/docker_access_log
    LogLevel warn
</VirtualHost>

<VirtualHost *:80>
    ServerName docker-registry.sapsailing.com
    ProxyPreserveHost on
    ProxyPass /v2 http://127.0.0.1:5001/v2
    ProxyPassReverse /v2 http://127.0.0.1:5001/v2
    <Location />
        Order deny,allow
        Allow from all
        AuthName "Docker Registry Authentication"
        AuthType basic
        AuthUserFile '/etc/httpd/conf/passwd.git'
        Require valid-user
    </Location>
    # Use separate log files for the SSL virtual host; note that LogLevel
    # is not inherited from httpd.conf.
    ErrorLog logs/docker_error_log
    TransferLog logs/docker_access_log
    LogLevel warn
</VirtualHost>
