<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <link href='../../../../sailing-fontface-1.0.cache.css' media='screen' rel='stylesheet' title='Default stylesheet' type='text/css' />
    <link href='../../../main.css' media='screen' rel='stylesheet' title='Default stylesheet' type='text/css' />
    <link rel='icon' href='../../../../sap.ico' type='image/x-icon'>
    <title>SAP Sailing Analytics Webservices API Version 1.0</title>
</head>
<body>
<h1>SAP Sailing Analytics Webservices API Version 1.0</h1>
<h2>URL: /api/v1/mark/addCourseDefinitionToRaceLog</h2>

<b>Description:</b>
<p>Allows to create a Course definition that is then inserted into the race log of a specified race</p>
<br/>
<table>
    <tr>
        <td>Webservice Type:</td>
        <td>REST</td>
    </tr>
    <tr>
        <td>Output format:</td>
        <td>Json</td>
    </tr>
    <tr>
        <td>Intput format:</td>
        <td>Json</td>
    </tr>
    <tr>
        <td>Request method:</td>
        <td>POST</td>
    </tr>
    <tr>
        <td>Mandatory parameters:</td>
        <td>leaderboardName, fleetName, raceColumnName: the definition of the tracked race for which to set the course<br>
            controlPoints: An ordered sequence of control points that form the layout of the course. For each control point, the following properties can be specified:
            <ul>
                <li>passingInstruction (required): For single mark waypoints, this can be one of [None, Port, Starboard, Single_Unknown, FixedBearing]. For mark pairs, this can be one of [None, Gate, Line, Offset].</li>
                <li>marks (required): List of UUIDs of the relevant marks. May specify one or two marks. Marks with the given ID are required to already exist in the specific regatta.</li>
                <li>controlPointName (optional): for mark pairs (control point with two marks), the name may be specified. If no name is given, one is inferred from the mark names.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td>Optional parameters:</td>
        <td>courseOriginatingTemplateId: UUID of an existing course template that is defined to be the source of the control point sequence.
        </td>
    </tr>
    <tr>
        <td>Examples:</td>
        <td>
            Request:
            <pre>
            {
                "fleetName":"Default",
                "leaderboardName":"test",
                "courseOriginatingTemplateId":"dc77e3d1-d405-435e-8699-ce7245a6fd4a",
                "raceColumnName":"R1",
                "controlPoints": [
                    {
                        "passingInstruction":"Gate",
                        "controlPointName", "Start\/Finish",
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab", "305ffb4b-c23d-42a1-be45-123123123123"]
                    },
                    {
                        "passingInstruction":"Port", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab"]
                    },
                    {
                        "passingInstruction":"Starboard", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab"]
                    },
                    {
                        "passingInstruction":"Line", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab", "305ffb4b-c23d-42a1-be45-123123123123"]
                    },
                    {
                        "passingInstruction":"Offset", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab", "305ffb4b-c23d-42a1-be45-123123123123"]
                    },
                    {
                        "passingInstruction":"FixedBearing", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab"]
                    },
                    {
                        "passingInstruction":"Single_Unknown", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab"]
                    },
                    {
                        "passingInstruction":"None", 
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab"]
                    },
                    {
                        "passingInstruction":"None", 
                        "controlPointName", "Start\/Finish",
                        "marks":["305ffb4b-c23d-42a1-be45-f76a2bad8fab", "305ffb4b-c23d-42a1-be45-123123123123"]
                    }
                ]
            }
            </pre>
            Response: Status 200 if changed
        </td>
    </tr>
</table>
<div style="height: 1em;"></div>
<a href="index.html">Back to Web Service Overview</a> 
</body>
</html>
