<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <link href='../../../../sailing-fontface-1.0.cache.css' media='screen' rel='stylesheet' title='Default stylesheet' type='text/css' />
    <link href='../../../main.css' media='screen' rel='stylesheet' title='Default stylesheet' type='text/css' />
    <link rel='icon' href='../../../../sap.ico' type='image/x-icon'>
    <title>SAP Sailing Analytics Webservices API Version 1.0</title>
</head>
<body>
<h1>SAP Sailing Analytics Webservices API Version 1.0</h1>
<h2>URL: /sailinglandscape/api/landscape/removoeapplicationreplicaset</h2>

<b>Description:</b>
 <p>Removes an application replica set without archiving its contents and without touching its
 database. The master and replica processes are stopped, and if they were the last on their nodes then
 the node is terminated. The load balancing rules and the corresponding target groups are removed.
 If this turns a load balancer empty (other than its default rule), the load balancer is removed too,
 unless it was the dynamic load balancer. Any DNS record for the replica set (in case of a DNS-mapped
 load balancer being used) is removed, too, and so are the launch configuration and auto-scaling group
 in case they exist.</p>
 <br />
 <table>
    <tr>
        <td>Webservice Type:</td>
        <td>POST</td>
    </tr>
    <tr>
        <td>Output format:</td>
        <td>json</td>
    </tr>
    <tr>
        <td>Mandatory query parameters:</td>
        <td>
            <div><tt>regionId</tt>, region where to set up the replica set, e.g., eu-west-1</div>
            <div><tt>replicaSetName</tt>, name of the replica set; used as the hostname to which the domain name is appended, as well as
                                 for the database and RabbitMQ exchange name</div>
            <div><tt>keyName</tt>, the name of the SSH key to use; must identify an existing SSH key by that name in the region specified
                          and will be used to log on to existing and new instances using a root ssh connection.</div>
            <div><tt>privateKeyEncryptionPassphrase</tt>, the pass phrase to decrypt the private key for the key specified by the keyName parameter</div>
            <div><tt>mongoUriToArchiveDbTo</tt>, if provided, this must identify a full-fledged database-specific MongoDB URI, such as
                                        <tt>mongodb://172.16.0.123/mynewevent?replicaSet=archive&retryWrites=true&readPreference=nearest</tt>.
                                        If provided, it specified the database end point to which to move the replica set's original DB content.
                                        After moving, the DB content will be compared by hashing original and copy, and only if this comparison
                                        was successful will the original be dropped. Note: although you must specify a DB name ("mynewevent" in
                                        the example above), the DB name in the URI will be ignored, and the original DB name will be used under
                                        all circumstances for the copy.</div>
        </td>
    </tr>
    <tr>
        <td>Optional query parameters:</td>
        <td>
            <div><tt>timeoutInMilliseconds</tt>, timeout in milliseconds to wait for responses from nodes when analyzing the replica sets
                                        existing in the region; if not specified, waiting will not time out.</div>
        </td>
    </tr>
    <tr>
        <td>Request method:</td>
        <td>POST</td>
    </tr>
    <tr>
        <td>Example:</td>
        <td>curl -X POST -d 'regionId=eu-west-2' -d 'replicaSetName=mynewevent' -d 'keyName=Horst' --data-urlencode 'privateKeyEncryptionPassphrase=HorstsSuperSecretPassword' -H 'Authorization: Bearer RwGK+DV38LKjeuDu+Bx87/3blLJHD7Ff+NCLeud9nRQ=' "https://sapsailing.com/sailinglandscape/api/landscape/removeapplicationreplicaset"<br>
        produces no output and a 200 status code if things worked.
        </td>
    </tr>
</table>
<div style="height: 1em;"></div>
<a href="index.html">Back to Web Service Overview</a> 
</body>
</html>
