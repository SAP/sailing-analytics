<!DOCTYPE html>
<html>
  <head>
    <title>SAP Sailing Analytics</title>
    <link href='/moderator-static/screen.css' media='screen' rel='stylesheet' type='text/css'>
  </head>
  <body class='race-1' tal:define="event view.currentLeaderboardEvent(); 
                                    racebundles [event.races[i:i+3] for i in xrange(0, len(event.races), 3)];
                                    firstbundle racebundles[:3]; lastbundle racebundles[3:]">
    <div id='rootwrapper'>
      <div id='header'>
        &nbsp;
      </div>
      <div id='appinterface'>
        <!-- / THE LEFT BAR -->
        <div id='left-systembar'>
          <a class='slide-backward' href='#'>
            <span class='race-count'>
              <tal:for repeat="bundle firstbundle">
              <ul class='race-bundle-${repeat["bundle"].number}'>
                <tal:for repeat="race bundle">
                <li class='race-${event.races.index(race)+1}'>
                    ${event.races.index(race)+1}
                </li>
                </tal:for>
              </ul>
              </tal:for>
            </span>
          </a>
          <div class='blue-table-btn'>
            <a href='#'></a>
          </div>
        </div>
        <!-- / YIELD THE MAIN INTERFACE -->
        <!-- / MAIN INTERFACE -->
        <div id='main-interface'>
          <div class='blue-table'>
            <a class='refresh-btn' href='javascript:;' onclick='loadLeaderboard();'></a>
            <a class='sort-rank sort-asc' href='#'></a>
            <table id='overall-clipping'>
              <tbody>
                <tal:for repeat="clpos range(1,21)">
                <tr class='${repeat["clpos"].even and "odd" or "even"}' id='clipping-${clpos}'>
                  <td id='clipping-${clpos}-1'>
                    <span></span>
                  </td>
                  <td id='clipping-${clpos}-2'>
                    <span></span>
                  </td>
                  <td id='clipping-${clpos}-3'>
                    <span></span>
                  </td>
                </tr>
                </tal:for>
              </tbody>
            </table>
            <ul id='table-scrolling'>
              <li>
                <a class='table-scrolldown' href='#'></a>
              </li>
              <li>
                <a class='table-scrollup' href='#'></a>
              </li>
            </ul>
          </div>

          <!-- / WRAPPER FOR RACES -->
          <tal:for repeat='bundle firstbundle[0]'>
          <div class='race' id='race-${repeat["bundle"].number}' tal:define='raceid repeat["bundle"].number'>
            <!-- / FIRST ELEMENT WITH LIST -->
            <div class='main-box'>
                <a class='main-box-active' href='javascript:;' onclick='$("#race-${raceid} .leg-wrap").toggle();'>
                <ul>
                  <tal:for repeat="rankrow range(1,21)">
                  <li id='race-${raceid}-rankrow-${rankrow}'></li>
                  </tal:for>
                </ul>
                <span>1</span>
              </a>
              <a class='main-box-sort sort-asc' href='#'></a>
            </div>

            <tal:for repeat="leg event.marks[int(raceid)-1]">
            <div class='leg-wrap' id="leg-${repeat['leg'].number}" tal:define='markid repeat["leg"].number'>
              <!-- / SECOND ELEMENT WITH LIST -->
              <div class='leg-box'>
              <span>M${markid}</span>
                <a class='leg-box-sort sort-asc' href='#'></a>
                <a class='leg-box-active' href='javascript:;' onclick='$(this).closest(".leg-wrap").find(".table-box, .race-table").toggle();'>
                  <ul>
                      <tal:for repeat="markrow range(1,21)">
                      <li id='race-${raceid}-mark-${markid}-row-${markrow}'></li>
                      </tal:for>
                  </ul>
                </a>
              </div>
              <div class='table-box' style="display:none;">
                <ul>
                  <tal:for repeat="legrow range(1,21)">
                  <li id='race-${raceid}-mark-${markid}-legrow-${legrow}'></li>
                  </tal:for>
                </ul>
                <a class='table-box-sort sort-asc' href='#'></a>
              </div>
              <table class='race-table' id='r1-m1' style="display:none;">
                <thead>
                  <tr>
                    <th colid='1'>
                      <span>DSTTRV</span>
                    </th>
                    <th colid='2'>
                      <span>SPEED</span>
                    </th>
                    <th colid='3'>
                      <span>VMG</span>
                    </th>
                    <th colid='4'>
                      <span>SGAP</span>
                    </th>
                    <th colid='5'>
                      <span>DSTGO</span>
                    </th>
                    <th colid='6'>
                      <span>ETA</span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr rowid='0'>
                    <td class='table-sorting' colid='1'>
                      <a class='sort-asc' href='#'></a>
                    </td>
                    <td class='table-sorting' colid='2'>
                      <a class='sort-asc' href='#'></a>
                    </td>
                    <td class='table-sorting' colid='3'>
                      <a class='sort-asc' href='#'></a>
                    </td>
                    <td class='table-sorting' colid='4'>
                      <a class='sort-asc' href='#'></a>
                    </td>
                    <td class='table-sorting' colid='5'>
                      <a class='sort-asc' href='#'></a>
                    </td>
                    <td class='table-sorting' colid='6'>
                      <a class='sort-asc' href='#'></a>
                    </td>
                  </tr>
                  <tal:for repeat="valrow range(1,21)">
                  <tr class='odd' id='race-${raceid}-valrow-${valrow}'>
                    <tal:for repeat="valrowpos range(1,7)">
                    <td id='race-${raceid}-mark-${markid}-valrow-${valrow}-pos-${valrowpos}'>
                      <span>&nbsp;</span>
                    </td>
                    </tal:for>
                  </tr>
                  </tal:for>
                </tbody>
              </table>
            </div>
            </tal:for>
          </div>
          </tal:for>
        </div>
        <!-- / THE RIGHT BAR -->
        <div id='right-systembar'>
          <a class='slide-forward' href='#'>
            <span class='race-count'>
              <tal:for repeat="bundle lastbundle">
              <ul class='race-bundle-${repeat["bundle"].number}'>
                <tal:for repeat="race bundle">
                <li class='race-${event.races.index(race)+1}'>
                    ${event.races.index(race)+1}
                </li>
                </tal:for>
              </ul>
              </tal:for>
            </span>
          </a>
          <div class='function-btn-wrapper'>
            <ul class='function-btn'>
              <li class='function-1'>
                <a href='#'>
                  f1
                </a>
              </li>
              <li class='function-2'>
                <a href='#'>
                  f2
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'></script>
  <script src='/moderator-static/app.js' type='text/javascript'></script>
</html>
