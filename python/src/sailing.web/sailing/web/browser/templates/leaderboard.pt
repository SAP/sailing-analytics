
<tal:if condition="view.listenerStarted()">
    <div class="help">Leaderboard that displays ranks and other information for the selected event and race.</div>
    <form>
        <br/>
        Event: 
        <select name="event">
            <tal:for repeat="event view.allEvents()">
            <option value="${event.name}">${event.name}</option>
            </tal:for>
        </select>

        <br/><br/>
        <input id="ld-loader-name" type="button" onclick="loadLeaderboard('name')" value="Leaderboard (sorted by name)"/>
        <input id="ld-loader-total" type="button" onclick="loadLeaderboard('total')" value="Sorted by total"/>

        <input type="text" name="options" value="" id="custom-options"/>&nbsp;<input id="ld-loader-custom" type="button" onclick="loadLeaderboard($('#custom-options').attr('value'))" value="Sorted by Custom"/>(1,1,1 means that you sort for the first race, first mark, first value)

        <div id="ld-data">
            &nbsp;
        </div>

        <script>
            function loadLeaderboard(sortname) {
                displayLoader('#ld-data');
                template('leaderboard-info', {eventname: $('select[name=event] option:selected').val(),sortname:sortname}, function(data) {
                    $('#ld-data').html(data)
                });
            }
        </script>
    </form>
</tal:if>

<tal:if condition="not view.listenerStarted()">
    <b>Please start listener before displaying the leaderboard!</b>
</tal:if>

